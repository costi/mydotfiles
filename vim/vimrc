filetype off
filetype plugin indent on

" Tabs
set tabstop=2
set smarttab
set shiftwidth=2
set autoindent
set expandtab

" Look and Feel
set t_Co=256
colorscheme vibrantink 
syntax on
set cursorline
set number 
set equalalways
set splitbelow splitright
set scrolloff=8

" Key Mappings
imap jj <Esc>
inoremap <tab> <c-n>
map <leader>c :tabe ~/.vim/cheetSheet.txt<CR>
nmap <silent> <Leader>n :NERDTreeToggle<CR>
nmap <silent> <Leader>N :NERDTreeFind<CR>
map <leader>F :Ack<space>
nmap <leader>w <C-w><C-w>_

" Search
set incsearch
set ignorecase
set smartcase

" Status Line
set laststatus=2
set statusline+=[%F]
set statusline+=[FORMAT=%{&ff}]
set statusline+=[TYPE=%Y]
set statusline+=[POS=%04l,%04v]
set statusline+=[%p%%]
set statusline+=%*
set ruler

" now set it up to change the status line based on mode
" if version >= 700
"   au InsertEnter * hi StatusLine term=reverse ctermbg=5 gui=undercurl guisp=Magenta
"   au InsertLeave * hi StatusLine term=reverse ctermfg=0 ctermbg=2 gui=bold,reverse
" endif

" folding settings
set foldmethod=indent   "fold based on indent
set foldnestmax=10      "deepest fold is 10 levels
set nofoldenable        "dont fold by default
set foldlevel=1         "this is just what i use

" Swap and Backup Files
set nobackup
set nowritebackup
set noswapfile
set tags=~/.tags

" Jump to last cursor position when opening a file.
" Do not do it when writing a commit log entry.
autocmd BufReadPost * call SetCursorPosition()
function! SetCursorPosition()
  if &filetype !~ 'commit\c'
    if line("'\"") > 0 && line("'\"") <= line("$")
     exe "normal g`\""
    endif
  end
endfunction

" MiniBufExplorer
let g:miniBufExplSplitBelow=0

" FuzzyFinderTextMate
map <leader>t :FuzzyFinderTextMate<CR>
let g:fuzzy_ceiling=50000
let g:fuzzy_matching_limit=50
let g:fuzzy_ignore='*.yml;*.sql;*.log;*.sh;*.out;*.png;*.txt;*.csv;*.readme;*.zip;*.tpl'
let g:fuzzy_roots=[ './cnuapp', './cnuapp_models' ]

" Shortcut to rapidly toggle `set list`
nmap <leader>l :set list!<CR>
 
" Use the same symbols as TextMate for tabstops and EOLs
set listchars=tab:▸\ ,eol:¬

" Perforce
nnoremap @p4a :!p4 add %:e
nnoremap @p4e :!p4 edit %:e
nnoremap @p4d :!p4 diff %

